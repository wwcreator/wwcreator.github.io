<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>wwcreator Blog</title>
    <link>https://wwcreator.github.io/</link>
    <description>Recent content on wwcreator Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-EN</language>
    <managingEditor>yuwen_qing@126.com (wwcreator)</managingEditor>
    <webMaster>yuwen_qing@126.com (wwcreator)</webMaster>
    <copyright>(c) 2017 wwcreator.</copyright>
    <lastBuildDate>Thu, 16 Feb 2017 01:41:43 -0800</lastBuildDate>
    <atom:link href="https://wwcreator.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>license</title>
      <link>https://wwcreator.github.io/license/</link>
      <pubDate>Thu, 16 Feb 2017 01:41:43 -0800</pubDate>
      <author>yuwen_qing@126.com (wwcreator)</author>
      <guid>https://wwcreator.github.io/license/</guid>
      <description>

&lt;h1 id=&#34;simple-public-license-simpl-2-0:53e892b8b41cc4caece1cfd5ef21d6e7&#34;&gt;Simple Public License (SimPL-2.0)&lt;/h1&gt;

&lt;h2 id=&#34;preamble:53e892b8b41cc4caece1cfd5ef21d6e7&#34;&gt;Preamble&lt;/h2&gt;

&lt;p&gt;This Simple Public License 2.0 (SimPL-2.0 for short) is a plain language
implementation of GPL 2.0.  The words are different, but the goal is the
same - to guarantee for all users the freedom to share and change
software.  If anyone wonders about the meaning of the SimPL, they should
interpret it as consistent with GPL 2.0.&lt;/p&gt;

&lt;h1 id=&#34;simple-public-license-simpl-2-0-1:53e892b8b41cc4caece1cfd5ef21d6e7&#34;&gt;Simple Public License (SimPL) 2.0&lt;/h1&gt;

&lt;p&gt;The SimPL applies to the software&amp;rsquo;s source and object code and comes
with any rights that I have in it (other than trademarks). You agree to
the SimPL by copying, distributing, or making a derivative work of the
software.&lt;/p&gt;

&lt;p&gt;You get the royalty free right to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Use the software for any purpose;&lt;/li&gt;
&lt;li&gt;Make derivative works of it (this is called a &amp;laquo;Derived Work&amp;raquo;);&lt;/li&gt;
&lt;li&gt;Copy and distribute it and any Derived Work.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you distribute the software or a Derived Work, you must give back to
the community by:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Prominently noting the date of any changes you make;&lt;/li&gt;
&lt;li&gt;Leaving other people&amp;rsquo;s copyright notices, warranty disclaimers, and
license terms in place;&lt;/li&gt;
&lt;li&gt;Providing the source code, build scripts, installation scripts, and
interface definitions in a form that is easy to get and best to
modify;&lt;/li&gt;
&lt;li&gt;Licensing it to everyone under SimPL, or substantially similar terms
(such as GPL 2.0), without adding further restrictions to the rights
provided;&lt;/li&gt;
&lt;li&gt;Conspicuously announcing that it is available under that license.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are some things that you must shoulder:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You get NO WARRANTIES. None of any kind;&lt;/li&gt;
&lt;li&gt;If the software damages you in any way, you may only recover direct
damages up to the amount you paid for it (that is zero if you did
not pay anything). You may not recover any other damages, including
those called &amp;laquo;consequential damages.&amp;raquo; (The state or country where
you live may not allow you to limit your liability in this way, so
this may not apply to you);&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The SimPL continues perpetually, except that your license rights end
automatically if:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You do not abide by the &amp;laquo;give back to the community&amp;raquo; terms (your
licensees get to keep their rights if they abide);&lt;/li&gt;
&lt;li&gt;Anyone prevents you from distributing the software under the terms
of the SimPL.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;license-for-the-license:53e892b8b41cc4caece1cfd5ef21d6e7&#34;&gt;License for the License&lt;/h2&gt;

&lt;p&gt;You may do anything that you want with the SimPL text; it&amp;rsquo;s a license
form to use in any way that you find helpful.  To avoid confusion,
however, if you change the terms in any way then you may not call your
license the Simple Public License or the SimPL (but feel free to
acknowledge that your license is &amp;laquo;based on the Simple Public License&amp;raquo;).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用 Hugo &#43; GitHub Page 搭建 Blog</title>
      <link>https://wwcreator.github.io/2017/02/14/%E4%BD%BF%E7%94%A8-hugo--github-page-%E6%90%AD%E5%BB%BA-blog/</link>
      <pubDate>Tue, 14 Feb 2017 21:11:48 -0800</pubDate>
      <author>yuwen_qing@126.com (wwcreator)</author>
      <guid>https://wwcreator.github.io/2017/02/14/%E4%BD%BF%E7%94%A8-hugo--github-page-%E6%90%AD%E5%BB%BA-blog/</guid>
      <description>

&lt;h2 id=&#34;我想搭建一个自己的blog:8a6bcd0efa30570889e863020952e1cd&#34;&gt;我想搭建一个自己的Blog&lt;/h2&gt;

&lt;p&gt;许久以前，一直想搭一个自己的博客，很不想用第三方的平台，诸多的限制，样式不美观等等，无奈自己没有好好研究怎么使用工具来快速生成，听的最多的是 Jkyll ，Haxo，一看Install Document，望而却步，直到看到 Hugo 工具，简单灵活，我用了两天的时间来研究并部署成功了，分享给有需要的人。&lt;/p&gt;

&lt;h2 id=&#34;step-1-install-hugo-on-ubuntu-16-0-4:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 1. Install Hugo on Ubuntu-16.0.4&lt;/h2&gt;

&lt;p&gt;软件的安装，最方便的非 apt-get 莫属。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  apt-get install Hugo
  其余的安装方式可参考官方文档:
  https://gohugo.io/overview/installing/
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;step-2-hugo-创建-site:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 2. Hugo 创建 Site&lt;/h2&gt;

&lt;p&gt;安装完成后，开始创建自己的 Site。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir -p /data/www/
cd /data/www
# create new site
hugo new site wwcreator
cd /data/www/wwcreator
tree -a
.
|-- archetypes
|-- config.toml
|-- content
|-- data
|-- layouts
`-- static

5 directories, 1 file
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;可以看到创建的新的 site 的目录结构.&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;archetypes: You can create new content files in Hugo using the hugo new command. When you run that command, it adds few configuration properties to the post like date and title. Archetype allows you to define your own configuration properties that will be added to the post front matter whenever hugo new command is used.&lt;/li&gt;
&lt;li&gt;config.toml: Every website should have a configuration file at the root. By default, the configuration file uses TOML format but you can also use YAML or JSON formats as well. TOML is minimal configuration file format that’s easy to read due to obvious semantics. The configuration settings mentioned in the config.toml are applied to the full site. These configuration settings include baseURL and title of the website.&lt;/li&gt;
&lt;li&gt;content: This is where you will store content of the website. Inside content, you will create sub-directories for different sections. Let’s suppose your website has three actions – blog, article, and tutorial then you will have three different directories for each of them inside the content directory. The name of the section i.e. blog, article, or tutorial will be used by Hugo to apply a specific layout applicable to that section.&lt;/li&gt;
&lt;li&gt;data: This directory is used to store configuration files that can be used by Hugo when generating your website. You can write these files in YAML, JSON, or TOML format.&lt;/li&gt;
&lt;li&gt;layouts: The content inside this directory is used to specify how your content will be converted into the static website.&lt;/li&gt;
&lt;li&gt;static: This directory is used to store all the static content that your website will need like images, CSS, JavaScript or other static content.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;step-3-add-content:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 3. Add content&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;hugo new post/first.md
tree -a content
vim content/first.md
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;+++
date = &amp;quot;2017-02-14T11:11:48-08:00&amp;quot;
draft = true
title = &amp;quot;first&amp;quot;
+++
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;+++&lt;/code&gt; 里的内容是该文章的&lt;code&gt;TOML&lt;/code&gt;配置信息， 也叫做 &lt;code&gt;front matter&lt;/code&gt;。
在文档里添加内容（格式为markdown 格式哦）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;+++
date = &amp;quot;2017-02-14T11:11:48-08:00&amp;quot;
draft = true
title = &amp;quot;first&amp;quot;
+++
`hello world`
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;保存退出，第一个文档完成。&lt;/p&gt;

&lt;h2 id=&#34;step-4-启动-hugo-瞧瞧:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 4. 启动 hugo 瞧瞧&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;hugo server --baseURL=http://192.168.x.xx:80 \
              --port=80 \
              --buildDrafts \
              --appendPort=false \
              --bind=192.168.x.xxx
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;1 of 1 draft rendered
0 future content
1 pages created
0 paginator pages created
0 tags created
0 categories created
in 6 ms
Watching for changes in /data/www/wwcreator/{data,content,layouts,static}
Serving pages from memory
Web Server is available at http://192.168.x.xx:80 (bind address 192.168.x.xxx)
Press Ctrl+C to stop
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;访问 &lt;a href=&#34;http://192.168.x.xx:80&#34;&gt;http://192.168.x.xx:80&lt;/a&gt; 然而什么都没有显示，没有我想看到的&lt;code&gt;Hello world&lt;/code&gt;，因为我们还需要安装 &lt;code&gt;theme&lt;/code&gt;。&lt;/p&gt;

&lt;h2 id=&#34;step-5-install-theme:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 5. Install theme&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;cd themes
git clone https://GitHub.com/enten/hyde-y
更加详细的配置，可以参考：
  http://www.gohugo.org/theme/hyde-y/
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;hugo server --baseURL=http://192.168.x.xx:80 \
              --port=80 \
              --buildDrafts \
              --appendPort=false \
              --bind=192.168.x.xxx \
              --theme=hyde-y
# 再次刷新页面，发现主题已经生效，内容也正常显示了。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;hugo blog 我们已经准备完成，开始创建 GitHub Page。&lt;/p&gt;

&lt;h2 id=&#34;step-6-使用-github-page:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 6. 使用 GitHub Page&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;GitHub Pages is a static site hosting service.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在 GitHub 上新建一个 username.github.io的project ，它默认会生成: &lt;a href=&#34;http://username.github.io/&#34;&gt;http://username.github.io/&lt;/a&gt; 的域名。&lt;/p&gt;

&lt;p&gt;但是现在repository没有任何code，所以接下来通过 hugo 生成静态页面并上传到 GitHub 上。&lt;/p&gt;

&lt;h2 id=&#34;step-7-本地生成静态页面:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 7. 本地生成静态页面&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;# 注意与本地的区别
hugo server --baseURL=http://username.github.io \
              --buildDrafts \
              --theme=hyde-y
tree -a
.
|-- archetypes
|-- config.toml
|-- content
|-- data
|-- public
|-- layouts
`-- static

6 directories, 1 file
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;生成的静态页面存储在 public 目录，马上要接近成功了。&lt;/p&gt;

&lt;h2 id=&#34;step-8-本地服务配置-github-信息:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 8. 本地服务配置 GitHub 信息&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;ssh-keygen
cat .ssh/id_rsa.pub
将秘钥的值复制，使用浏览器登陆到 GitHub ，
在 [Settings] -&amp;gt; [SSH and GPG keys] -&amp;gt; [New SSH Key] 粘贴保存。则本地可以跟 GitHub 服务器通信。
git config --global user.name &amp;quot;你的名字&amp;quot;
git config --global user.email &amp;quot;your_email@youremail.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;step-9-上传到-github:8a6bcd0efa30570889e863020952e1cd&#34;&gt;Step 9. 上传到 GitHub&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;cd public
git init   # init
# clone with ssh not https
git add remote origin git@GitHub.com:wwcreator/wwcreator.github.io.git
git status  # show the changes
git add -A  
git commit -m &amp;quot;first commit&amp;quot;  # commit
git push origin master  # push
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;# git push origin master
Counting objects: 19, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (16/16), done.
Writing objects: 100% (19/19), 5.84 KiB | 0 bytes/s, done.
Total 19 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), done.
To git@GitHub.com:wwcreator/wwcreator.github.io.git
 * [new branch]      master -&amp;gt; master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;访问 &lt;a href=&#34;http://wwcreator.github.io&#34;&gt;http://wwcreator.github.io&lt;/a&gt; ，大功告成。有很多好看的主题可以选择，但是我还是选择了 hyde-y ，是我尝试了 N 多主题后的结论，简单美观，如果需要修改样式，可以参考下一篇文章。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MySQL 常用备份工具简介</title>
      <link>https://wwcreator.github.io/2017/02/14/mysql-%E5%B8%B8%E7%94%A8%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B/</link>
      <pubDate>Tue, 14 Feb 2017 21:11:31 -0800</pubDate>
      <author>yuwen_qing@126.com (wwcreator)</author>
      <guid>https://wwcreator.github.io/2017/02/14/mysql-%E5%B8%B8%E7%94%A8%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B/</guid>
      <description>

&lt;h1 id=&#34;mysql-常用的备份方式有哪些&#34;&gt;MySQL 常用的备份方式有哪些 ?&lt;/h1&gt;

&lt;p&gt;不管是MySQL, Oracle，MariaDB 等关系型数据库，还是 MongoDB，Redis 等 NoSQL 数据库，都有众所周知的&lt;code&gt;Logical Backup&lt;/code&gt; &amp;amp;  &lt;code&gt;Physical Backup&lt;/code&gt; 。&lt;/p&gt;

&lt;h2 id=&#34;mysql-logical-backups&#34;&gt;MySQL Logical Backups&lt;/h2&gt;

&lt;p&gt;逻辑备份是按照数据库的逻辑结构（CREATE DATABASE, CREATE TABLE 语句）和内容（INSERT,分隔文本）的方式来存储。非常常用的是当属 MySQL 自带的 &lt;code&gt;mysqldump&lt;/code&gt;和 &lt;code&gt;mydumper&lt;/code&gt; 工具。&lt;/p&gt;

&lt;h3 id=&#34;mysqldump&#34;&gt;mysqldump&lt;/h3&gt;

&lt;p&gt;mysqldump 支持导出部分DB，部分Table， 而且还支持 &amp;ndash;where 行条件过滤（不支持列过滤），InnoDB引擎不锁表导出等。还支持获取导出的 Binlog position，很方便的进行PIT（point in time）recover。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;for example:
  mysqldump -u test -p -P 3307 -h 127.0.0.1 --single-transaction --master-data=2 --database test_dump --tables test1 &amp;gt; /test/test_dump_test1.sql

recover：
  mysql -u test -p -P 3307 -h 127.0.0.1 -D test_dump -e &amp;quot;source /test/test_dump_test1.sql&amp;quot; &amp;gt;import.log 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;PS: MySQL 5.7.11 版本引入 mysqlpump 工具，支持多线程（粒度到表级别），压缩导入导出。
mysqlpump的并行导出功能的架构为：队列+线程，允许有多个队列，每个队列下有多个线程，而一个队列可以绑定1个或者多个数据库。但是，对于每张表的导出只能是单个线程的。&lt;/p&gt;

&lt;h3 id=&#34;mydumper&#34;&gt;mydumper&lt;/h3&gt;

&lt;p&gt;mydumper（&amp;amp;myloader）是用于对MySQL数据库进行多线程备份和恢复的开源 (GNU GPLv3)工具。开发人员主要来自MySQL、Facebook和SkySQL公司，目前由Percona公司开发和维护。
mydumper 支持多线程备份恢复，粒度到记录级别，对于导出大容量的数据，效率非常高。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;for example:
  mydumper -u test -p -P 3307 -h 127.0.0.1 -B test_dump -T test1 -b -t 16 -c -o /test/test_dump_test1
recover:
  myloader -u test -p -P 3307 -h 127.0.0.1 --directory=/test/test_dump_test1 --overwrite-tables -B test_dump
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;备份原理：
  - 主线程将各个库表，分成若干个任务，放入任务队列
  - 执行线程从任务队列读取任务，并执行。&lt;/p&gt;

&lt;h2 id=&#34;mysql-physical-backups&#34;&gt;MySQL Physical Backups&lt;/h2&gt;

&lt;p&gt;物理备份由一系列的存储数据库内容的 raw 格式的文件组成，为了保证一致性，必须关机来拷贝物理文件，但是 Percona 公司的 Xtrabackup 工具完美的解决了关机备份的不可行方案，从而实现热备。&lt;/p&gt;

&lt;h3 id=&#34;xtrabackup&#34;&gt;Xtrabackup&lt;/h3&gt;

&lt;p&gt;Xtrabackup 有两个主要的工具，xtrabackup，innobackup：
- xtrabackup 只能备份 InnoDB 和 XtraDB 两种数据表
- innobackupex 封装了 xtrabackup，同时可以备份 MyISAM 数据表&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;for example:
  第一步：
  innobackupex --user=bkpuser  --password=bkppassword /data/backups
  第二步：
  cd /data/backups
  innobackupex --apply-log ./
recover:
  将备份拷贝到需要的目录即可使用。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;备份的原理：
1. Xtrabackup ：
   - REDO 拷贝线程， 拷贝 REDO Log
   - ibd 拷贝线程 拷贝 InnoDB 物理文件
2. 完成后，执行 FTWRL 添加全局锁
3. 拷贝 frm，MYD,MYI etc.
4. 停止拷贝 REDO ,UNLOCK tables
5. 等待 xtrabackup 结束，备份结束&lt;/p&gt;

&lt;h2 id=&#34;mysqldump-pk-mydumper&#34;&gt;mysqldump PK mydumper&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;mysqldump 为 MySQL 原生工具，不需要额外安装，对于导出不是特别大的DB，仍然是非常棒的工具，但对于容量大，但又必须逻辑导出的场景就不是特别合适，需要的时间特别长，不支持多线程导入导出。&lt;/li&gt;
&lt;li&gt;mydumper 需要额外安装才能使用，支持多线程备份导入，速度快，支持后台模式导出&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;logical-pk-physical-backup&#34;&gt;Logical PK Physical Backup&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;逻辑备份可以灵活的导出数据（表结构，数据，过滤等）&lt;/li&gt;
&lt;li&gt;逻辑备份与物理备份导出所有数据来看，要慢很多，因为需要读取数据并转换&lt;/li&gt;
&lt;li&gt;逻辑备份的恢复时间长&lt;/li&gt;
&lt;li&gt;物理备份的文件与线上 MySQL 完全一致，包含所有的日志等信息&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Hello World</title>
      <link>https://wwcreator.github.io/2017/02/14/hello-world/</link>
      <pubDate>Tue, 14 Feb 2017 19:50:52 -0800</pubDate>
      <author>yuwen_qing@126.com (wwcreator)</author>
      <guid>https://wwcreator.github.io/2017/02/14/hello-world/</guid>
      <description>

&lt;h3 id=&#34;hello-world:bef80f8e73e4e4bfdcc92e5136092d00&#34;&gt;Hello World&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;Hello World
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>about</title>
      <link>https://wwcreator.github.io/about/</link>
      <pubDate>Tue, 14 Feb 2017 19:49:54 -0800</pubDate>
      <author>yuwen_qing@126.com (wwcreator)</author>
      <guid>https://wwcreator.github.io/about/</guid>
      <description>

&lt;h3 id=&#34;this-is-a-wwcreator-blog:6083a88ee3411b0d17ce02d738f69d47&#34;&gt;this is a wwcreator blog .&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;En-Name: Kelly
E-mail: yuwen_qing@126.com
Jobs: MySQL DBA
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>